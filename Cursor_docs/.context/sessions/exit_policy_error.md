(venv) eddy@Server:~/Backpack-MM-Simple$ .venv/bin/python3 core/daemon_manager.py stop
22:24:42 - INFO - {"timestamp": "2025-11-21T22:24:42.231369", "level": "INFO", "logger": "trading_bot_daemon", "message": "配置已載入", "module": "", "function": null, "line": 0, "data": {"config_file": "config/daemon_config.json"}}
22:24:42 - INFO - {"timestamp": "2025-11-21T22:24:42.231624", "level": "INFO", "logger": "trading_bot_daemon", "message": "正在停止所有交易機器人進程...", "module": "log_manager", "function": "log_structured", "line": 221}
22:24:42 - INFO - {"timestamp": "2025-11-21T22:24:42.251442", "level": "INFO", "logger": "trading_bot_daemon", "message": "發現 run.py 進程，正在停止", "module": "", "function": null, "line": 0, "data": {"pid": 1048656}}
22:25:07 - WARNING - {"timestamp": "2025-11-21T22:25:07.291028", "level": "WARNING", "logger": "trading_bot_daemon", "message": "進程未在 25 秒內終止，強制殺掉", "module": "", "function": null, "line": 0, "data": {"pid": 1048656}}
22:25:11 - WARNING - {"timestamp": "2025-11-21T22:25:11.993971", "level": "WARNING", "logger": "trading_bot_daemon", "message": "交易機器人未運行，正在重啟", "module": "", "function": null, "line": 0, "data": {"restart_count": 1}}
22:25:12 - INFO - {"timestamp": "2025-11-21T22:25:12.009392", "level": "INFO", "logger": "trading_bot_daemon", "message": "正在啟動交易機器人", "module": "log_manager", "function": "log_structured", "line": 221}
22:25:12 - INFO - {"timestamp": "2025-11-21T22:25:12.022537", "level": "INFO", "logger": "trading_bot_daemon", "message": "交易機器人進程已啟動", "module": "", "function": null, "line": 0, "data": {"pid": 1051985, "cmd": ".venv/bin/python3 run.py --exchange backpack --market-type perp --symbol ETH_USDC_PERP --strategy perp_grid --grid-type short --grid-lower 2500 --grid-upper 3000 --grid-num 50 --grid-mode geometric --max-position 0.01 --stop-loss 100 --take-profit 1200 --duration 1209600 --interval 90", "stdout_log": "logs/bot_stdout.log", "stderr_log": "logs/bot_stderr.log"}}
22:25:12 - INFO - {"timestamp": "2025-11-21T22:25:12.038606", "level": "INFO", "logger": "trading_bot_daemon", "message": "已停止 1 個 run.py 進程", "module": "log_manager", "function": "log_structured", "line": 221}
22:25:13 - INFO - {"timestamp": "2025-11-21T22:25:13.039140", "level": "INFO", "logger": "trading_bot_daemon", "message": "正在停止守護進程", "module": "", "function": null, "line": 0, "data": {"pid": 1048654}}
22:25:13 - INFO - {"timestamp": "2025-11-21T22:25:13.039831", "level": "INFO", "logger": "trading_bot_daemon", "message": "收到停止信號", "module": "", "function": null, "line": 0, "data": {"signal": 15}}
22:25:17 - INFO - {"timestamp": "2025-11-21T22:25:17.022730", "level": "INFO", "logger": "trading_bot_daemon", "message": "交易機器人重啟成功", "module": "log_manager", "function": "log_structured", "line": 221}
22:25:23 - INFO - {"timestamp": "2025-11-21T22:25:23.041097", "level": "INFO", "logger": "trading_bot_daemon", "message": "守護進程已停止", "module": "log_manager", "function": "log_structured", "line": 221}
22:25:24 - INFO - {"timestamp": "2025-11-21T22:25:24.066077", "level": "INFO", "logger": "trading_bot_daemon", "message": "發現 run.py 進程，正在停止", "module": "", "function": null, "line": 0, "data": {"pid": 1051985}}
22:25:29 - INFO - {"timestamp": "2025-11-21T22:25:29.091958", "level": "INFO", "logger": "trading_bot_daemon", "message": "進程已優雅停止", "module": "", "function": null, "line": 0, "data": {"pid": 1051985}}
22:25:29 - INFO - {"timestamp": "2025-11-21T22:25:29.093732", "level": "INFO", "logger": "trading_bot_daemon", "message": "已停止 1 個 run.py 進程", "module": "log_manager", "function": "log_structured", "line": 221}
22:25:30 - ERROR - {"timestamp": "2025-11-21T22:25:30.094060", "level": "ERROR", "logger": "trading_bot_daemon", "message": "停止守護進程失敗", "module": "", "function": null, "line": 0, "data": {"error": "StructuredLogger.warning() takes 2 positional arguments but 3 were given", "exc_info": true}}
(venv) eddy@Server:~/Backpack-MM-Simple$ 